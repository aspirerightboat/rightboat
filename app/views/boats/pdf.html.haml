- broker = @boat.user
.broker-info-block
  - if broker.avatar?
    .broker-logo
      = wicked_pdf_image_tag broker.avatar_url, height: 100
  .broker-info
    %div <strong>#{broker.name}</strong>
    = render partial: 'shared/address', locals: {address: broker.address}
    - if broker.phone.present?
      %div <b>phone:</b> #{broker.phone}
    - if broker.mobile.present?
      %div <b>mobile:</b> #{broker.mobile}
    - if broker.fax.present?
      %div <b>fax:</b> #{broker.fax}
    %div #{mail_to broker.email}
    - if broker.broker_info.website.present?
      %div #{link_to broker.broker_info.website, broker.broker_info.website}

- if @boat.primary_image
  .boat-main-image
    = wicked_pdf_image_tag @boat.primary_image.file_url

.boat-title-block
  %h1 <b>#{@boat.manufacturer}</b> #{@boat.model}
  %h2 #{@boat.display_price(Currency.default)}
  %h2 #{@boat.year_built} year
  .qr-code-block
    - boat_url = boat_url(@boat.slug)
    = render partial: 'shared/qr_code', locals: {url: boat_url, size: 8}
    .qr-code-hint Scan to view boat online

.page-break

%h3 Description
.boat-description
  = sanitize(@boat.description)

.hr

%table.spec-table
  - @boat.boat_specifications.each_slice(2).each do |spec1, spec2|
    %tr
      %th(width="25%")
        = spec1.specification.to_s
      %td(width="25%")
        = spec1.value.blank? ? 'N/A' : spec1.value
      - if spec2
        %th(width="25%")
          = spec2.specification.to_s
        %td(width="25%")
          = spec2.value.blank? ? 'N/A' : spec2.value

.page-break

%h3
  Images
  - if @boat.slave_images.count > 24
    %small (More available online)
.boat-thumbs
  - @boat.slave_images.limit(24).each_slice(2) do |slice|
    .thumbs-row
      - slice.each do |img|
        .thumb= wicked_pdf_image_tag img.file_url(:thumb)
